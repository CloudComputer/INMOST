project(FVDiscr)
set(SOURCE main.cpp)

add_executable(FVDiscr ${SOURCE})

target_link_libraries(FVDiscr inmost)

if(USE_SOLVER)
  if(USE_SOLVER_ANI)
    message("linking FVDiscr with ani3d")
    target_link_libraries(FVDiscr ani3d)
  endif()
  if(USE_SOLVER_PETSC)
    message("linking FVDiscr with PETSc")
    link_directories(${PETSC_LIBRARY_DIRS})
    target_link_libraries(FVDiscr ${PETSC_LIBRARIES})
  endif()
  if(USE_SOLVER_TRILINOS)
    message("linking FVDiscr with Trilinos")
    link_directories(${Trilinos_LIBRARY_DIRS})
    link_directories(${Trilinos_TPL_LIBRARY_DIRS})
    target_link_libraries(FVDiscr ${Trilinos_LIBRARIES} ${Trilinos_TPL_LIBRARIES})
  endif()
endif()


if(USE_PARTITIONER)
  if(USE_PARTITIONER_ZOLTAN)
    message("linking FVDiscr with Zoltan")
    target_link_libraries(FVDiscr ${ZOLTAN_LIBRARIES})
  endif()
  if(USE_PARTITIONER_PARMETIS)
    message("linking FVDiscr with ParMETIS")
    target_link_libraries(FVDiscr ${PARMETIS_LIBRARIES})
  endif()
endif()

if(USE_MPI)
  message("linking FVDiscr with MPI")
  target_link_libraries(FVDiscr ${MPI_LIBRARIES}) 
  if(MPI_LINK_FLAGS)
    set_target_properties(FVDiscr PROPERTIES LINK_FLAGS "${MPI_LINK_FLAGS}")
  endif() 
endif(USE_MPI)


